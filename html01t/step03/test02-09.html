<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>함수 선언</h1>

<script>
"use strict";

// 중첩 함수(closure)
// => 함수 내부에 선언된 함수.
// => 교체가 가능한 함수를 만들 때 주로 사용.
// => 바깥 함수는 자바의 팩토리 메서드와 기법이 유사하다.

function createCalculator(op) {
	switch (op) {
	case "+": 
		return function(a, b) {console.log(a + b)}; // 클로저 
	case "-":
		return function(a, b) {console.log(a - b)}; // 클로저 
    case "*":
	    return function(a, b) {console.log(a * b)}; // 클로저 
    case "/":
	    return function(a, b) {console.log(a / b)}; // 클로저 
    default:
	    return function() {console.log("이 연산을 지원하지 않습니다.")};
	}
}

// createCalculator()가 함수를 만들어 리턴한다.
// 즉 클로저를 리턴한다. 
var func = createCalculator("*");
func(10, 20);

// 클로저를 리턴 받아서 바로 호출하기
createCalculator("-")(10, 20);

</script>
</body>
</html>